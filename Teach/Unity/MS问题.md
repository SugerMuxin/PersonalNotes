---
author: RuoSaChen
tags:
  - unity
  - teach
---
![[cover-unity 4.jpg]]

>1.Unity网络框架的搭建
>(1)网络数据的通讯方式
>	a: http： get,post  获取服务器地址，资源服务器下载相关数据，热更，客服，反馈，分享等等，上传本地机器的相关信息等等，可以使用UnityWebRequest
>	 b：  TCP
>		 i：使用TCP的 Socket来进行通讯（C#环境下系统提供的API）
>			 connet,send,receive,respose
>		 ii: 基于TCP socket而实现一个websocket协议(成熟库)
>	c:  UDP进行通讯
>		普通的UDP的数据通讯，Socket API来维持可靠性
（2）数据包的格式
		a.
（3）协议的构建，序列化和反序列化
	a:二进制序列化和反序列化
		1.开源的一些库，protobuf
		2.语言的一些特性，C#
		3.兹定于序列化和反序列化
	b.文本模式下的序列化和反序列化
		json,litjson
		xml 对应库
	c.二进制与文件模式的转换
		二进制数据=>编码==>文本
		---------网络传输-----------约定编码解码格式
		 文本=>解码=>二进制数据


>2.手机发烫的问题解决
>高端的职位，回答面试题的时候，我们都从梳理需求开始
>(1)分析手机发烫的原因以及为什么要解决手机发烫的问题，什么样才算发烫
>	a.发烫，手机中的元器件，长时间的工作，得不到休息，导致主板中的电流越大，产生的热能越多，散发到手机表面导致发烫。打游戏的时候长时间工作的元器件主要是：CPU,GPU,网络wifi，移动数据。
>		while(1){
>			处理完一帧（假设60FPS），0.016s (1/60),假如0.0001秒就处理完这一帧的所有计算，那么久还有很长时间的休息，CPU在这段时间是休眠的，假如需要0.016s处理完上一帧，就立马处理下一帧的问题，这样就是CPU无法进入休息状态，导致发烫
>		}
>		所以我们就需要让CPU再快一些，让CPU需要处理的数据量小一些，减少不必要的性能开支。
>		以上是游戏很流畅但是会发热的原理。
>		用户的安全问题，低温烫伤，长时间用户皮肤接触一个低温的设备的时候，容易造成低温烫伤。所以手机游戏最好保持在40度以下
>(2)解决方案
>	a：通过工程管理的方式，在开发过程中，尤其在项目接近尾声的时候多打包测试。即是解决性能问题，越后期解决这些问题越麻烦，代价越大，项目中及时做约束。
>	b：要做性能优化
>		1.渲染问题
>		2.逻辑问题，GC耗时，内存碎片，复杂的Update
>		3.物理引擎的问题（刚体数量，复杂度）
>		4.IO处理的问题，主要是网络的数据量
	  c:部分机型烫
		  1.丢掉一些特效，需求，减少帧率（60fps=>30fps）